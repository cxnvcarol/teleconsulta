<!--
	Document	: index
	Created on	: 14-jul-2011
	Author		: Juan Sebastián Urrego E.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/main-template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ice="http://www.icesoft.com/icefaces/component"
                xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:param name="titulo" value="Teleconsulta-Control de acceso" />
    <ui:define name="body">
		<center>
			<h1>Teleconsulta</h1>
			<h2>Por favor, ingrese su login y su contraseña</h2>
			<h:form>

            <!-- Formulario de autenticación  -->
            <ice:panelGroup>
                
                <ice:panelGrid width="100px" columns="1" columnClasses="pnlGrdClass, pnlGrdClass, pnlGrdClassLong">
                    <ice:outputLabel for="TxtName"
                                     value="Nombre usuario" />
                    <ice:inputText id="TxtName"
                                   size="20"
                                   maxlength="20"
                                   value="#{loginBean.usuario}"
                                   partialSubmit="true"
                                   required="true">

                        <f:validateLength minimum="1"/>
                    </ice:inputText>
                    <ice:message id="nameMsg" for="TxtName"/>
                </ice:panelGrid>

                <ice:panelGrid width="100px" columns="1" columnClasses="pnlGrdClass, pnlGrdClass, pnlGrdClassLong">
                    <ice:outputLabel for="TxtPw"
                                     value="Contraseña" />
                    <ice:inputSecret id="TxtPw"
                                     maxlength="20"
                                     size="20"
                                     value="#{loginBean.contraseña}"
                                     partialSubmit="true"
                                     required="true">
                        <f:validateLength minimum="6" maximum="15" />
                    </ice:inputSecret>
                    <ice:message id="pwMsg" for="TxtPw"/>
                </ice:panelGrid>

                <ice:commandButton value="Ingresar" action="#{loginBean.ingresar}"/>
                
            </ice:panelGroup>

        </h:form>
		</center>
        
        <div id="forwardForm" style="display: none;">
            <h:commandButton id="forwardBtn" actionListener="#{loginBean.doForward}" style="display: none;"/>
    </div>
    
    <script type="text/javascript">
        document.getElementById('forwardBtn').click();
    </script>
    
    </ui:define>
</ui:composition>